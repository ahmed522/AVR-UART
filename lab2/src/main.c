/***********************************************************************************
 * 																				   *
 * 	 [MODULE]: Application  															   *
 * 																				   *
 * 	 [FILE NAME]: main.c														   *
 * 																				   *
 * 	 [AUTHOR]: Ahmed Abdelaal													   *
 * 																				   *
 * 	 [CREATED ON]: 28/10/2022													   *
 * 																				   *
 *   [DESCRIPTION]: Source file for Application     					    	   *
 * 																				   *
 ***********************************************************************************/

/*---------------------------------------------------------------------------------*
 *                                     INCLUDES                                    *
 *---------------------------------------------------------------------------------*/
#include "UART.h"
#include "lcd.h"
/*---------------------------------------------------------------------------------*
 *                               GLOBAL CONST MACROS                               *
 *---------------------------------------------------------------------------------*/

/*---------------------------------------------------------------------------------*
 *                                GLOBAL VARIABLES	                               *
 *---------------------------------------------------------------------------------*/
uint8 g_dataBuffer;
/*---------------------------------------------------------------------------------*
 *                                       ENUMS                                     *
 *---------------------------------------------------------------------------------*/

/*---------------------------------------------------------------------------------*
 *                                STRUCTS AND UNIONS                               *
 *---------------------------------------------------------------------------------*/

/*---------------------------------------------------------------------------------*
 *                               FUNCTION PROTOTYPES                               *
 *---------------------------------------------------------------------------------*/
/*[1]-------------------------------------------------------------------------------
 *
 * [FUNCTION NAME]: lcd_Reset
 *
 * [FUNCTION DESCRIPTION]: Function responsible for reset the lcd
 *
 * [SYNCHRONIZATION]: sync
 *
 * [REENTARNCY]: Non-Reentrant
 *
 * [Params]: [in]:   none
 *           [out]:  none
 *
 * [return]: none
 *
 *---------------------------------------------------------------------------------*/
void lcd_Reset(void);
/*---------------------------------------------------------------------------------*
 *                                FUNCTION DEFINITIONS                             *
 *---------------------------------------------------------------------------------*/
int main()
{
	/* intializations ---------------------*/
	UART_init();
	LCD_init();
	/* show lcd ---------------------------*/
	lcd_Reset();
	for(;;)
	{
	/* recieving data----------------------*/
		g_dataBuffer = UART_recieve_Byte();
	/* display data-----------------------*/
		if('0' == g_dataBuffer)
		{
			lcd_Reset();
		}
		else
		{
			LCD_displayCharacter(g_dataBuffer);
		}

	}
	return 0;
}

void lcd_Reset()
{
	LCD_clearScreen();
	LCD_displayString("Enter any char ( 0 for clear screen )");
	LCD_goToRowColumn(1, 0);
}
